# Computer Networks Lab – Assignment 2

**Date:** 29-08-2025  
**Objective:** Implement Application Layer protocol functionality (HTTP, SMTP, FTP, DNS) using Python on Ubuntu.

---

## Quick Start (Ubuntu)

1) **Install system packages (if needed)**
   ```bash
   sudo apt update
   sudo apt install -y python3 python3-venv python3-pip
   ```

2) **Create a project folder and a virtual environment**
   ```bash
   cd ~
   mkdir -p ~/networks_lab2 && cd ~/networks_lab2
   python3 -m venv .venv
   source .venv/bin/activate
   ```

3) **Copy these files into your project folder** (or unzip the provided ZIP).  
   Then install dependencies:
   ```bash
   pip install -r requirements.txt
   ```

4) **Run each task** (instructions below). Take **terminal screenshots** of successful runs for your report.

---

## A. HTTP

**What it does:** Sends GET and POST requests, prints status code, headers, and body, logs errors.

**Default endpoints:** https://httpbin.org/get and https://httpbin.org/post

**Run:**
```bash
python http_client.py
```

**Custom example:**
```bash
python http_client.py --get-url https://httpbin.org/get \
                      --post-url https://httpbin.org/post \
                      --post-data '{"name":"Alice","lab":2}'
```

**Screenshot tip:** Capture the terminal showing status codes, headers, and bodies printed by the script.

---

## B. SMTP

We'll use a **local debug SMTP server** so you don't need real credentials. It prints received emails to the terminal (no actual sending on the internet).

**Terminal 1 – Start debug SMTP server:**
```bash
python -m aiosmtpd -n -l localhost:1025
```

**Terminal 2 – Run client to send a test email:**
```bash
python smtp_client.py --server localhost --port 1025 \ 
                      --sender you@example.com --recipient friend@example.com \ 
                      --subject "CN Lab Test" --body "Hello from SMTP client!"
```

**Screenshot tip:** Take 2 screenshots:
- Terminal 1 showing the SMTP server printing the message.
- Terminal 2 showing the client logs of successful send.

> If you have access to a real SMTP service, you can pass `--use-tls --username YOUR_USER --password YOUR_PASS` and set `--server`/`--port` accordingly (e.g., port 587).

---

## C. FTP

We'll spin up a **local FTP server** using `pyftpdlib` so you can test upload/download easily.

**Prepare a folder and start the server (Terminal 1):**
```bash
mkdir -p ~/ftp_root
python -m pyftpdlib -p 2121 -u user -P pass -w -d ~/ftp_root
```

**Run the client (Terminal 2):**
```bash
python ftp_client.py --host localhost --port 2121 --user user --password pass --remote-dir /
```

The client will:
- Connect & list directory
- Create `upload_test.txt`
- Upload it
- List directory again
- Download it as `downloaded_upload_test.txt`
- Verify contents and print a confirmation

**Screenshot tip:** Capture the client terminal showing the successful upload, list, download, and verification.

---

## D. DNS

Resolve A, MX, and CNAME records and log results to `dns_log.txt`.

**Run:**
```bash
python dns_client.py --domain example.com
```

**Screenshot tip:** Include the terminal output and the contents of `dns_log.txt`.

---

## Notes / Troubleshooting

- If you're behind a firewall, HTTP/DNS may require internet access; try another network if needed.
- For SMTP/FTP examples above, everything runs locally—no internet required.
- Logs are written to `.log` files alongside the scripts (e.g., `http.log`, `smtp.log`, `ftp.log`).
- Use `-h` on any script for help on parameters.
- Optional extension (**not required in tasks**): implement LDAP using the `ldap3` package and a local or test LDAP server.

---

## Deliverables Checklist

- [ ] `http_client.py`
- [ ] `smtp_client.py`
- [ ] `ftp_client.py`
- [ ] `dns_client.py`
- [ ] Terminal screenshots showing successful execution
- [ ] `dns_log.txt` (generated by the DNS script)
